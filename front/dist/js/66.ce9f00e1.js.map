{"version":3,"file":"js/66.ce9f00e1.js","mappings":"6zIACSA,MAAM,6C,GAEJA,MAAM,4B,0CAFb,QAGM,MAHN,EAGM,C,aAFF,QAAkG,OAA7FA,MAAM,4CAA4CC,IAAA,EAA4BC,IAAI,Y,WACvF,QAAkD,IAAlD,GAAkD,QAAX,EAAAC,MAAI,I,CAKnD,OACIC,KAAM,aAENC,MAAO,CACHF,KAAM,CACFG,KAAMC,OACNC,UAAU,K,UCPtB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,8GCRSV,MAAM,sF,GAGFA,MAAM,gJ,yEAHf,QAYM,MAZN,EAYM,EATF,QAQM,MARN,EAQM,C,aALF,QAAmG,OAA9FA,MAAM,4CAA4CC,IAAA,EAA4BC,IAAI,Y,WACvF,QAA0C,GAA9BC,KAAK,2B,SACjB,QAA+F,SAAxFH,MAAM,cAAcM,KAAK,OAAOK,YAAY,gBAT/D,qCASwFC,EAAAA,YAAiB,U,iBAAjBA,EAAAA,YAAYC,U,SACxF,QAAwG,SAAjGb,MAAM,eAAeM,KAAK,WAAWK,YAAY,iBAVpE,qCAU8FC,EAAAA,YAAoB,a,iBAApBA,EAAAA,YAAYE,aAC9F,QAAqC,UAA5B,QAAK,oBAAE,EAAAC,OAAA,EAAAA,SAAA,KAAO,Y,yBASnC,GACIX,KAAM,WAENY,WAAY,CAACC,WAAU,KAEvBC,KAAM,KAAM,CACRC,OAAO,SAEPP,YAAa,CACTC,MAAO,KACPC,SAAU,QAIlBM,QAAS,CACL,KAAAL,GACIM,KAAKF,MAAMJ,MAAMM,KAAKT,YAC1B,GAGJ,WAAAU,GACQC,aAAaC,QAAQ,mCACrBH,KAAKI,QAAQC,KAAK,IAE1B,G,UCvCJ,MAAMjB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,qECLO,MAAMiB,GAAe,QAAY,OAAQ,CAC9CC,MAAO,KACE,CACLC,KAAM,OAEPC,QAAS,CACV,OAAAC,CAAQF,GACNR,KAAKQ,KAAOA,CACd,EAGA,eAAMG,SACEX,KAAKY,OAAOC,IAAI,cACnBC,MAAKC,IACJf,KAAKU,QAAQK,EAASlB,KAAKW,KAAI,IAEhCQ,OAAMC,IACgB,MAAjBA,EAAMC,SACRhB,aAAaiB,WAAW,kCACxBC,SAASC,SACX,GAEN,EAEA,WAAM3B,CAAMH,SACJS,KAAKY,OAAOU,KAAK,cAAe/B,GACnCuB,MAAKC,IACJb,aAAaqB,QAAQ,iCAA+BR,EAASlB,KAAK2B,OAClEJ,SAASK,KAAO,GAAG,IAEpBT,OAAMC,IACgB,MAAjBA,EAAMC,QACRQ,MAAMT,EAAMF,SAASlB,KAAK8B,QAC5B,GAEN,EAEA,YAAMC,GACAC,QAAQ,qDACJ7B,KAAKY,OAAOkB,OAAO,gBACtBhB,MAAKC,IACJW,MAAMX,EAASlB,KAAK8B,SACpBzB,aAAaiB,WAAW,kCACxBC,SAASC,QAAQ,IAElBL,OAAMC,OAEb,I","sources":["webpack://front/./src/components/GoldenText.vue","webpack://front/./src/components/GoldenText.vue?2052","webpack://front/./src/views/AuthView.vue","webpack://front/./src/views/AuthView.vue?ce05","webpack://front/./src/stores/user.js"],"sourcesContent":["<template>\n    <div class=\"flex flex-col items-center justify-center\">\n        <img class=\"w-[20.3125rem] h-[1.1875rem] mb-[1.25rem]\" src=\"@/assets/img/gold.png\" alt=\"gold.png\">\n        <p class=\"text-gold mb-[1.4375rem]\">{{ text }}</p>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"GoldenText\",\n\n    props: {\n        text: {\n            type: String,\n            required: true\n        }\n    }\n}\n</script>\n\n<style scoped>\np {\n    font-family: 'Leotaro', sans-serif;\n    line-height: 1;\n}\n</style>","import { render } from \"./GoldenText.vue?vue&type=template&id=60bc2a74&scoped=true\"\nimport script from \"./GoldenText.vue?vue&type=script&lang=js\"\nexport * from \"./GoldenText.vue?vue&type=script&lang=js\"\n\nimport \"./GoldenText.vue?vue&type=style&index=0&id=60bc2a74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60bc2a74\"]])\n\nexport default __exports__","<template>\n    <div class=\"memoria-bg\n                absolute top-0 bottom-0 right-0 left-0\n                flex justify-center items-center\">\n        <div class=\"rounded-[1.5rem] w-[38.5625rem] h-[41rem] bg-[rgba(0,0,0,0.5)] backdrop-blur-[15px]\n                    px-[4.8125rem]\n                    flex flex-col justify-center items-center\">\n            <img class=\"w-[18.75rem] h-[4.6875rem] mb-[3.5625rem]\" src=\"@/assets/img/logo.png\" alt=\"logo.png\"/>\n            <GoldenText text=\"Вход в личный кабинет\"/>\n            <input class=\"mb-[0.5rem]\" type=\"text\" placeholder=\"Введите логин\" v-model=\"credentials.phone\">\n            <input class=\"mb-[2.75rem]\" type=\"password\" placeholder=\"Введите пароль\" v-model=\"credentials.password\">\n            <button @click=\"login\">Войти</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport GoldenText from \"@/components/GoldenText.vue\";\nimport {useUserStore} from \"@/stores/user\";\n\nexport default {\n    name: \"AuthView\",\n\n    components: {GoldenText},\n\n    data: () => ({\n        store: useUserStore(),\n\n        credentials: {\n            phone: null,\n            password: null,\n        }\n    }),\n\n    methods: {\n        login() {\n            this.store.login(this.credentials)\n        }\n    },\n\n    beforeMount() {\n        if (localStorage.getItem(process.env.VUE_APP_TOKEN_KEY)) {\n            this.$router.push('/');\n        }\n    }\n}\n</script>","import { render } from \"./AuthView.vue?vue&type=template&id=6a11992f\"\nimport script from \"./AuthView.vue?vue&type=script&lang=js\"\nexport * from \"./AuthView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {defineStore} from \"pinia\";\n\nexport const useUserStore = defineStore(\"user\", {\n  state: () => {\n    return {\n      user: null\n    }\n  }, actions: {\n    setUser(user) {\n      this.user = user\n    },\n\n    // AXIOS\n    async fetchUser() {\n      await this.$axios.get('/auth/user')\n        .then(response => {\n          this.setUser(response.data.user)\n        })\n        .catch(error => {\n          if (error.status === 401) {\n            localStorage.removeItem(process.env.VUE_APP_TOKEN_KEY);\n            location.reload();\n          }\n        })\n    },\n\n    async login(credentials) {\n      await this.$axios.post('/auth/login', credentials)\n        .then(response => {\n          localStorage.setItem(process.env.VUE_APP_TOKEN_KEY, response.data.token);\n          location.href = '/';\n        })\n        .catch(error => {\n          if (error.status === 422) {\n            alert(error.response.data.message);\n          }\n        })\n    },\n\n    async logout() {\n      if (confirm('Вы действительно хотите выйти из аккаунта?')) {\n        await this.$axios.delete('/auth/logout')\n          .then(response => {\n            alert(response.data.message);\n            localStorage.removeItem(process.env.VUE_APP_TOKEN_KEY);\n            location.reload();\n          })\n          .catch(error => {});\n      }\n    }\n  }\n})"],"names":["class","src","alt","text","name","props","type","String","required","__exports__","render","placeholder","credentials","phone","password","login","components","GoldenText","data","store","methods","this","beforeMount","localStorage","getItem","$router","push","useUserStore","state","user","actions","setUser","fetchUser","$axios","get","then","response","catch","error","status","removeItem","location","reload","post","setItem","token","href","alert","message","logout","confirm","delete"],"sourceRoot":""}