"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[575],{1363:function(e,t,s){s.d(t,{A:function(){return p}});var n=s(641),a=s(33),l="data:image/png;base64,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";const o={class:"flex flex-col items-center justify-center"},u={class:"text-gold mb-[1.4375rem]"};function r(e,t,s,r,i,c){return(0,n.uX)(),(0,n.CE)("div",o,[t[0]||(t[0]=(0,n.Lk)("img",{class:"w-[20.3125rem] h-[1.1875rem] mb-[1.25rem]",src:l,alt:"gold.png"},null,-1)),(0,n.Lk)("p",u,(0,a.v_)(s.text),1)])}var i={name:"GoldenText",props:{text:{type:String,required:!0}}},c=s(6262);const d=(0,c.A)(i,[["render",r],["__scopeId","data-v-60bc2a74"]]);var p=d},1190:function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var n=s(641),a=s(33),l=s(3751);const o={class:"mt-[5rem]"},u={class:"mt-[5rem]"},r={class:"search flex justify-start mb-[3.75rem] mt-[5rem]"},i={class:"search-box w-1/4 mr-8"},c={class:"input flex"},d={class:"search-icon flex justify-center items-center bg-[#E3B661] w-[1.75rem] h-[1.75rem] !rounded-r-[2px]"},p={class:"search-box w-1/4"},m={class:"input flex"},k={class:"search-icon flex justify-center items-center bg-[#E3B661] w-[1.75rem] h-[1.75rem] !rounded-r-[2px]"},f={class:"w-[10%]"},h={class:"w-[30%]"},v={class:"w-[30%]"},A={class:"w-[10%]"},b=["disabled","onClick"],x={class:"w-[10%]"},L=["onClick"],w={class:"w-[10%]"},g={key:0,class:"absolute top-0 bottom-0 right-0 left-0 flex justify-center items-center"},y={class:"body p-4 z-10 rounded"},C={class:"flex justify-between"},Q={class:"flex items-center"},F={key:1,class:"absolute top-0 bottom-0 right-0 left-0 flex justify-center items-center"},B={class:"body w-1/2 bg-black p-8 z-10 rounded"},R={class:"flex justify-end"},U={class:"mb-4"},P={class:"mb-4"};function E(e,t,s,E,S,Z){const I=(0,n.g2)("GoldenText"),O=(0,n.g2)("Icon"),N=(0,n.g2)("Status");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(I,{text:"Админ-панель"}),(0,n.Lk)("div",u,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>Z.activatePopup&&Z.activatePopup(...e))},"+ Новая книга")]),(0,n.Lk)("div",r,[(0,n.Lk)("div",i,[t[8]||(t[8]=(0,n.Lk)("p",{class:"text-[1.125rem] mb-2"},"Поиск по ФИО",-1)),(0,n.Lk)("div",c,[t[7]||(t[7]=(0,n.Lk)("input",{class:"h-[1.75rem] !rounded-[2px] !rounded-r-[0] !rounded-r-0 !py-0",type:"text"},null,-1)),(0,n.Lk)("div",d,[(0,n.bF)(O,{type:"search"})])])]),(0,n.Lk)("div",p,[t[10]||(t[10]=(0,n.Lk)("p",{class:"text-[1.125rem] mb-2"},"Поиск по контактам",-1)),(0,n.Lk)("div",m,[t[9]||(t[9]=(0,n.Lk)("input",{class:"h-[1.75rem] !rounded-[2px] !rounded-r-[0] !py-0",type:"text"},null,-1)),(0,n.Lk)("div",k,[(0,n.bF)(O,{type:"search"})])])])]),(0,n.Lk)("table",null,[t[11]||(t[11]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"№"),(0,n.Lk)("th",null,"ФИО"),(0,n.Lk)("th",null,"Контакты"),(0,n.Lk)("th",null,"Анкета"),(0,n.Lk)("th",null,"Вход в книгу"),(0,n.Lk)("th",null,"Статус")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.users,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",f,(0,a.v_)(e.id),1),(0,n.Lk)("td",h,(0,a.v_)(e.name),1),(0,n.Lk)("td",v,(0,a.v_)(e.phone),1),(0,n.Lk)("td",A,[(0,n.Lk)("button",{disabled:!e.questionnaire?.for_who,onClick:t=>Z.showQuestionnairePopup(e.questionnaire)},"Анкета",8,b)]),(0,n.Lk)("td",x,[(0,n.Lk)("button",{onClick:t=>Z.editBook(e.id)},"Войти",8,L)]),(0,n.Lk)("td",w,[(0,n.bF)(N,{status:e.status},null,8,["status"])])])))),128))])]),e.popupActive?((0,n.uX)(),(0,n.CE)("div",g,[t[13]||(t[13]=(0,n.Lk)("div",{class:"background absolute w-full h-full bg-black/80 z-9"},null,-1)),(0,n.Lk)("div",y,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t),placeholder:"ФИО..."},null,512),[[l.Jo,e.form.name]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.phone=t),placeholder:"Номер телефона..."},null,512),[[l.Jo,e.form.phone]]),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),placeholder:"Пароль..."},null,512),[[l.Jo,e.form.password]]),(0,n.Lk)("div",C,[(0,n.Lk)("div",Q,[(0,n.bo)((0,n.Lk)("input",{id:"cb",type:"checkbox",class:"mx-4","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.isAdmin=t)},null,512),[[l.lH,e.form.isAdmin]]),t[12]||(t[12]=(0,n.Lk)("label",{class:"text-white",for:"cb"},"Админ",-1))]),(0,n.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>Z.saveUser&&Z.saveUser(...e))},"Сохранить")])])])):(0,n.Q3)("",!0),e.questionnairePopup?((0,n.uX)(),(0,n.CE)("div",F,[t[17]||(t[17]=(0,n.Lk)("div",{class:"background absolute w-full h-full bg-black/80 z-9"},null,-1)),(0,n.Lk)("div",B,[(0,n.Lk)("div",R,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>Z.closeQuestionnairePopup&&Z.closeQuestionnairePopup(...e))},"Закрыть")]),t[14]||(t[14]=(0,n.Lk)("h1",{class:"text-[#E3B661FF] mb-2"},"О себе",-1)),(0,n.Lk)("p",U,(0,a.v_)(e.questionnaire.self_info),1),t[15]||(t[15]=(0,n.Lk)("h1",{class:"text-[#E3B661FF] mb-2"},"Для кого книга",-1)),(0,n.Lk)("p",P,(0,a.v_)(e.questionnaire.for_who),1),t[16]||(t[16]=(0,n.Lk)("h1",{class:"text-[#E3B661FF] mb-2"},"О чем будет история",-1)),(0,n.Lk)("p",null,(0,a.v_)(e.questionnaire.summary),1)])])):(0,n.Q3)("",!0)])}var S=s(1363),Z=s(1708);function I(e,t,s,l,o,u){return(0,n.uX)(),(0,n.CE)("div",{class:(0,a.C4)(["rounded flex justify-center items-center p-2 h-[2.9375rem] text-black",{"bg-[#8E8E8E]":"not-filled"===s.status.name,"bg-[#E3B661]":"filled"===s.status.name,"bg-[#FFE8BD]":"review"===s.status.name}])},(0,a.v_)(s.status.display_name),3)}var O={name:"Status",props:{status:{type:Object,required:!0}}},N=s(6262);const Y=(0,N.A)(O,[["render",I]]);var G=Y,J=s(5800),q=s(3468),M=s(1657),j={name:"AdminView",components:{Status:G,Icon:Z.A,GoldenText:S.A},data:()=>({store:(0,J.g)(),userStore:(0,q.k)(),users:[],popupActive:!1,questionnairePopup:!1,questionnaire:null,form:{name:null,phone:null,password:null,isAdmin:!1}}),methods:{async saveUser(){await this.store.saveUser(this.form).then((()=>{this.popupActive=!1}))},activatePopup(){this.form={name:null,phone:null,password:null,isAdmin:!1},this.popupActive=!0},editBook(e){localStorage.setItem("admin",JSON.stringify({bookId:e})),this.$router.push("/client/book")},showQuestionnairePopup(e){let t;for(let s of M.A)s.value===e.for_who&&(t=s.text);t||(t=e.for_who),this.questionnaire={self_info:e.self_info,for_who:t,summary:e.summary},this.questionnairePopup=!0},closeQuestionnairePopup(){this.questionnairePopup=!1,this.questionnaire=null}},async mounted(){"admin"!==this.userStore.user.type?this.$router.push("/"):await this.store.fetchBooks().then((()=>{this.users=this.store.books})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(this.popupActive=!1)}))}};const z=(0,N.A)(j,[["render",E]]);var V=z},1657:function(e,t){t.A=[{text:"Для семьи",value:"family"},{text:"Для всеобщего пользования",value:"all"},{text:"Послание себе на будущее",value:"future"},{text:"В подарок",value:"present"},{text:"Для себя",value:"me"},{text:"Для потомков",value:"legacy"},{text:"Для рефлексии",value:"reflection"},{text:"Свой вариант",value:"other"}]}}]);
//# sourceMappingURL=575.d6673ac4.js.map