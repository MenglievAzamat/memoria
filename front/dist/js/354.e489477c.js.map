{"version":3,"file":"js/354.e489477c.js","mappings":"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","sources":["webpack://front/./src/components/Book/Preview.vue","webpack://front/./src/components/Book/Preview.vue?107d","webpack://front/./src/components/Pagination.vue","webpack://front/./src/components/Pagination.vue?33dc","webpack://front/./src/plugins/helpers.js","webpack://front/./src/stores/book.js","webpack://front/./node_modules/ru-typo/build/typo.js"],"sourcesContent":["<template>\n    <div class=\"leotaro relative w-full h-[47.5rem] text-center flex justify-end items-center mb-[3.75rem]\">\n        <div v-if=\"payload.title\" class=\"w-1/2 pr-[3rem] pl-[1.5rem] z-10\">\n            <h1 class=\"text-black text-wrap text-[1.66625rem] font-['Leotaro']\">{{ payload.title }}</h1>\n            <h2 class=\"text-[0.99975rem] font-['Leotaro']\">{{ payload.subtitle }}</h2>\n        </div>\n\n        <div v-else-if=\"payload.review\" class=\"w-full h-full px-[1.5rem] z-10 flex\">\n            <div class=\"w-1/2 h-full flex flex-col justify-center p-[3.8rem]\">\n            </div>\n            <div class=\"w-1/2 h-full flex flex-col justify-start p-[3.8rem]\">\n                <h1 class=\"text-black text-wrap text-[1.66625rem] font-['Leotaro']\">Содержание</h1>\n                <div class=\"flex justify-between items-end\" v-for=\"item in payload.chapters\">\n                    <h2 class=\"text-[0.99975rem] helvetica text-black\">{{ item.title }}</h2>\n                    <span class=\"bb\"></span>\n                    <h2 class=\"text-[0.99975rem] helvetica\">{{ (item.last_page ?? 0) + 1 }}</h2>\n                </div>\n            </div>\n        </div>\n\n        <div v-else class=\"w-full h-full px-[1.5rem] z-10 flex\">\n            <div class=\"w-1/2 h-full flex flex-col justify-center p-[3.8rem]\">\n                <div class=\"header h-[10%]\">\n                    <p class=\"text-black text-wrap text-[1.66625rem] font-['Leotaro'] text-left\">{{ book.title }}</p>\n                </div>\n                <div class=\"body h-[85%]\">\n                    <p v-if=\"payload[0]?.title\"\n                       class=\"font-[Montserrat] text-black text-[1.66625rem] text-center mb-[.4rem] font-bold\">\n                        {{ payload[0]?.title }}</p>\n                    <img v-if=\"payload[0]?.image\" class=\"w-full h-full\" :src=\"payload[0]?.image\" alt=\"\">\n                    <!--                    <p class=\"break-words hyphens-auto font-['GoMono'] text-[1.4163125rem] text-black text-justify\" v-html=\"payload[0]?.text\"></p>-->\n                    <div class=\"flex\" :class=\"{'justify-between': wrapLine(line) > threshold }\"\n                         v-for=\"(line, index) in payload[0]?.text\">\n                        <p :class=\"{'mr-3' : wrapLine(line) <= threshold}\"\n                           class=\"helvetica text-[1.4163125rem] text-black\" v-for=\"word in line\" v-html=\"word\"></p>\n                    </div>\n                </div>\n                <div class=\"footer h-[5%]\">\n                    <p class=\"helvetica text-[1.4163125rem] text-black\">{{ payload[0] ? payload[0].page : '' }}</p>\n                </div>\n            </div>\n            <div class=\"w-1/2 h-full flex flex-col justify-center p-[3.8rem]\">\n                <div class=\"header h-[10%]\">\n                    <p class=\"text-black text-wrap text-[1.66625rem] font-['Leotaro'] text-right\">{{\n                            book.subtitle\n                        }}</p>\n                </div>\n                <div class=\"body h-[85%]\">\n                    <p v-if=\"payload[1]?.title\"\n                       class=\"font-[Montserrat] text-black text-[1.66625rem] text-center mb-[.4rem] font-bold\">\n                        {{ payload[1]?.title }}</p>\n                    <img v-if=\"payload[1]?.image\" class=\"w-full h-full\" :src=\"payload[1]?.image\" alt=\"\">\n                    <!--                    <p class=\"break-words hyphens-auto font-['GoMono'] text-[1.4163125rem] text-black text-justify\" v-html=\"payload[1]?.text\"></p>-->\n                    <div class=\"flex\" :class=\"{'justify-between': wrapLine(line) > threshold }\"\n                         v-for=\"(line, index) in payload[1]?.text\">\n                        <p :class=\"{'mr-3' : wrapLine(line) <= threshold}\"\n                           class=\"helvetica text-[1.4163125rem] text-black\" v-for=\"word in line\" v-html=\"word\"></p>\n                    </div>\n                </div>\n                <div class=\"footer h-[5%]\">\n                    <p class=\"helvetica text-[1.4163125rem]  text-black\">{{ payload[1] ? payload[1].page : '' }}</p>\n                </div>\n            </div>\n        </div>\n\n        <img class=\"absolute right-0 left-0 top-0 bottom-0 z-0\" src=\"@/assets/img/book.png\" alt=\"book.png\">\n    </div>\n</template>\n\n<script>\nimport {useBookStore} from \"@/stores/book\";\nimport typo from \"ru-typo\";\n\nexport default {\n    name: \"Preview\",\n\n    props: {\n        payload: {\n            type: Object,\n        },\n\n        image: {\n            type: File,\n        }\n    },\n\n    data: () => ({\n        bookStore: useBookStore(),\n\n        threshold: 25\n    }),\n\n    computed: {\n        book() {\n            return this.bookStore.book\n        }\n    },\n\n    methods: {\n        wrapLine(line) {\n            return line.reduce((acc, curr) => acc + curr.length, 0)\n        }\n    }\n}\n</script>\n\n<style scoped>\n.leotaro {\n    font-family: Leotaro, sans-serif !important;\n    font-size: 1.375rem !important;\n}\n\n.helvetica {\n    font-family: Helvetica, sans-serif !important;\n    font-size: 1.375rem !important;\n    line-height: 125%;\n}\n\n.bb {\n    border-bottom: 1px dotted black;\n    flex-grow: 1;\n}\n</style>","import { render } from \"./Preview.vue?vue&type=template&id=1e300f8c&scoped=true\"\nimport script from \"./Preview.vue?vue&type=script&lang=js\"\nexport * from \"./Preview.vue?vue&type=script&lang=js\"\n\nimport \"./Preview.vue?vue&type=style&index=0&id=1e300f8c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1e300f8c\"]])\n\nexport default __exports__","<template>\n    <div class=\"flex justify-center items-center\">\n        <div\n            class=\"hover:scale-110 cursor-pointer\"\n            @click=\"$emit('prevPage')\"\n        ><Icon type=\"arrow_left\" /></div>\n        <div class=\"w-[5.625rem] h-[2.0625rem] bg-[#D9D9D9] rounded flex justify-center items-center text-[1.125rem] mx-4\">{{ page }} / {{ total_pages }}</div>\n        <div class=\"hover:scale-110 cursor-pointer\" @click=\"$emit('nextPage')\"><Icon type=\"arrow_right\" /></div>\n    </div>\n</template>\n\n<script>\nimport Icon from \"@/components/Icon.vue\";\n\nexport default  {\n    name: \"Pagination\",\n    components: {Icon},\n\n    props: {\n        page: {\n            type: Number,\n            required: true\n        },\n\n        total_pages: {\n            type: Number,\n            required: true\n        }\n    }\n}\n</script>\n\n<style scoped>\nsvg {\n    width: 2.0625rem !important;\n    height: 2.0625rem !important;\n}\n</style>","import { render } from \"./Pagination.vue?vue&type=template&id=26ca3a2b&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=26ca3a2b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26ca3a2b\"]])\n\nexport default __exports__","import typo from \"ru-typo\";\n\nexport function chapterDividerV2(text) {\n  let lineLength = 35\n  let pageLines = 18\n  text = '    ' + text\n\n  let nlSplit = text.split('\\n')\n\n  let lines = []\n  let result = []\n  let hyphens = []\n  let tmp = ''\n  let page = []\n\n  if (text.length > 0) {\n    for (let line of nlSplit) {\n      line = line.replace('    ', '¡¡¡¡')\n\n      if (line.length <= lineLength || line.includes('<img')) {\n        lines.push(line)\n      } else {\n        let words = line.split(' ')\n\n        for (let word of words) {\n          if ([tmp, word].join(' ').length <= lineLength) {\n            tmp = tmp.length === 0 ? tmp + ' ' + word : [tmp, word].join(' ')\n          } else {\n            word = typo(word, { hyphens: true })\n            hyphens = word.split('­')\n\n            let initialLength = hyphens.length\n\n            if ([tmp, hyphens[0]].join(' ').length <= lineLength) {\n              tmp += ' ' + hyphens.shift()\n\n              while (hyphens.length > 0 && [tmp, hyphens[0]].join(' ').length <= lineLength) {\n                tmp += hyphens.shift()\n              }\n            }\n\n            if (initialLength !== hyphens.length) {\n              tmp += '-'\n            }\n\n            lines.push(tmp.trim())\n            tmp = hyphens.join('')\n          }\n        }\n\n        lines.push(tmp.trim())\n        tmp = ''\n      }\n    }\n\n    let count = 1\n\n    while (lines.length > 0) {\n      if (lines[0].includes('<img')) {\n        result.push(page)\n        result.push([lines.shift()])\n        page = []\n        count = 1\n      } else if (count <= pageLines) {\n        page.push(lines.shift())\n        count++\n      } else {\n        result.push(page)\n        page = []\n        count = 1\n      }\n    }\n\n    result.push(page)\n  }\n\n  result = result.map(r => r.map(rr => rr.replaceAll('¡¡¡¡', '&nbsp;&nbsp;&nbsp;&nbsp;')))\n  result = result.map(r => r.map(rr => rr.includes('<img') ? [rr] : rr.split(' ')))\n\n  return result\n}\n\nexport function chapterDivider(text) {\n  let result = []\n\n  if (text) {\n    let words = text.split(' ')\n    let page = ''\n\n    for (let index = 0; index < words.length; index++) {\n      let length = result.length === 0 ? 510 : 544\n\n      if (words[index].includes('<img')) {\n        result.push(page.trim())\n        page = ''\n        let imgTag = [words[index], words[++index], words[++index]].join(' ')\n        result.push(imgTag)\n      } else if (page.length + words[index].length <= length) {\n        page += words[index] + ' '\n      } else {\n        result.push(page.trim())\n        page = words[index] + ' '\n      }\n    }\n\n    if (page.length !== 0) {\n      result.push(page.trim())\n    }\n  }\n\n  return result\n}\n\nexport function pageFormatter(pages, title, offset) {\n  let pagesFormatted = []\n\n  for (let index in pages) {\n    pagesFormatted.push({\n      title: index == 0 ? title : null,\n      text: pages[index],\n      page: parseInt(offset) + parseInt(index) + 1,\n    })\n  }\n\n  return pagesFormatted\n}\n\nexport function hyphenate(text) {\n  if (text.includes('<img')) {\n    return text\n  }\n\n  let result = text ?? '';\n  result = result.replaceAll('\\n', '¡').replaceAll('  ', 'ºº')\n  result = typo(result, {hyphens: true});\n  result = result.split(' ');\n\n  let hyphenated = []\n  let tmp = ''\n\n  for (let word of result) {\n    let shards = word.match(/((?!­).){1,32}/g)\n\n    if (shards) {\n      for (let shard of shards) {\n        if (tmp.length + shard.length <= 31) {\n          tmp += shard\n          continue\n        }\n\n        hyphenated.push(tmp += ((shard !== shards[0] ? '-' : '').replaceAll('¡', '<br>').replaceAll('ºº', '&nbsp;&nbsp;')))\n        tmp = shard\n      }\n\n      tmp += ' '\n    }\n  }\n\n  if (tmp.length !== 0) {\n    hyphenated.push(tmp)\n  }\n\n  hyphenated = hyphenated.join('')\n  hyphenated = hyphenated.replaceAll('¡', '<br>').replaceAll('ºº', '&nbsp;&nbsp;')\n\n  return hyphenated\n}","import {defineStore} from \"pinia\";\n\nexport const useBookStore = defineStore(\"book\", {\n  state: () => {\n    return {\n      book: null,\n      chapter: null,\n      chapters: [],\n      covers: [],\n    }\n  },\n  actions: {\n    setBook(book) {\n      this.book = book\n    },\n\n    setChapter(chapter) {\n      this.chapter = chapter\n    },\n\n    setChapters(chapters) {\n      this.chapters = chapters\n    },\n\n    setCovers(covers) {\n      this.covers = covers\n    },\n\n    async fetchBookById(bookId) {\n      await this.$axios.get(`/book/${bookId}`)\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async fetchBookByUserId(userId) {\n      await this.$axios.get(`/book/user/${userId}`)\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async upsertQuestionnaire(bookId, payload) {\n      await this.$axios.post(`/book/${bookId}/questionnaire`, payload)\n        .then(response => {\n          alert('Ваша анкета успешно сохранена')\n          let book = response.data.book\n          this.setBook(book)\n          this.$router.push('/')\n        })\n    },\n\n    async getCovers() {\n      await this.$axios.get('/book/covers')\n        .then(response => {\n          this.setCovers(response.data.covers)\n        })\n    },\n\n    async saveCover(bookId, coverId) {\n      await this.$axios.post(`/book/${bookId}/cover`, {cover_type_id: coverId})\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async getChapters(bookId) {\n      await this.$axios.get(`/book/${bookId}/chapters`)\n        .then(response => {\n          this.setChapters(response.data)\n        })\n    },\n\n    async saveTitle(bookId, payload) {\n      await this.$axios.post(`/book/${bookId}/title`, payload)\n        .then(response => {\n          alert(response.data.message)\n          this.setBook(response.data.book)\n        })\n    },\n\n    async getChapter(chapterId) {\n      return await this.$axios.get(`/chapter/${chapterId}`).then(response => {\n        this.setChapter(response.data.chapter)\n        return response.data\n      })\n    },\n\n    async saveChapter(chapterId, text) {\n      await this.$axios.post(`/chapter/${chapterId}`, {text: text}).then(response => {\n        alert(response.data.message)\n      })\n    },\n\n    async generatePDF(bookId) {\n      await this.$axios.get(`/book/${bookId}/pdf`, {\n        responseType: 'blob'\n      }).then(response => {\n        // create file link in browser's memory\n        const href = URL.createObjectURL(response.data);\n\n        // create \"a\" HTML element with href to file & click\n        const link = document.createElement('a');\n        link.href = href;\n        link.setAttribute('download', 'file.pdf'); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n\n        // clean up \"a\" element & remove ObjectURL\n        document.body.removeChild(link);\n        URL.revokeObjectURL(href);\n      })\n    },\n\n    async closeBook(bookId) {\n      return await this.$axios.post(`/book/${bookId}/close`).then(response => {\n        return response.data.message\n      })\n    },\n\n    async toggleBook(bookId) {\n      await this.$axios.post(`/book/${bookId}/toggle`).then(response => {\n        alert(response.data.message)\n      })\n    },\n\n    async getTotalPages(bookId) {\n      return await this.$axios.get(`/book/${bookId}/total-pages`).then(response => {\n        return response.data.total_pages\n      })\n    },\n\n    async addImage(chapterId, image) {\n      let formData = new FormData()\n      formData.append('image', image)\n\n      return await this.$axios.post(`/chapter/${chapterId}/image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        return response.data.url\n      })\n    }\n  }\n})","var any = \"[абвгдеёжзийклмнопрстуфхцчшщъыьэюя]\";\nvar vowel = \"[аеёиоуыэюя]\";\nvar consonant = \"[бвгджзклмнпрстфхцчшщ]\";\nvar sign = \"[йъь]\";\nvar shy = \"­\"; // &shy;\n\nvar nonBreakingHyphen = \"‑\"; // &#8209;\n\nvar nonBreakingSpace = \" \"; // &nbsp;\n\nvar dash = \"—\"; // &mdash;\n\nvar nonBreakingDash = \"–\"; // &#8211;\n\nvar openingQuote = \"«\";\nvar closingQuote = \"»\";\nvar preposiciones = {\n  corto: \"и|а|в|к|у|с|о|не|но|на|из|от|об|до|по|во|за|со\",\n  largo: \"над|под|как\"\n};\nvar defaultOptions = {\n  hyphens: false,\n  digits: false,\n  digitsR: false,\n  header: false,\n  ndash: false,\n  quotes: false\n};\nvar patterns = {\n  common: [[new RegExp(\"&nbsp;\", \"gi\"), nonBreakingSpace], [new RegExp(\" (-|–|—) \", \"g\"), \"\".concat(nonBreakingSpace).concat(dash, \" \")], [new RegExp(\" {2}\", \"g\"), \" \"], [new RegExp(\"-(й|я|е) \", \"g\"), \"\".concat(nonBreakingHyphen, \"$1 \")], [new RegExp(\"-(й|я|е) \", \"g\"), \"\".concat(nonBreakingHyphen, \"$1\").concat(nonBreakingSpace)], [new RegExp(\" (\".concat(preposiciones.corto, \") \"), \"gi\"), \" $1\".concat(nonBreakingSpace)], [new RegExp(\"\".concat(nonBreakingSpace, \"(\").concat(preposiciones.corto, \") \"), \"gi\"), \"\".concat(nonBreakingSpace, \"$1\").concat(nonBreakingSpace)], [new RegExp(\"^(\".concat(preposiciones.corto, \") \"), \"gi\"), \"$1\".concat(nonBreakingSpace)]],\n  digits: [[new RegExp(\" (\\\\d+) \", \"g\"), \"\".concat(nonBreakingSpace, \"$1\").concat(nonBreakingSpace)], [new RegExp(\"\".concat(nonBreakingSpace, \"(\\\\d+) \"), \"g\"), \"\".concat(nonBreakingSpace, \"$1\").concat(nonBreakingSpace)] // TODO TESTS\n  ],\n  digitsR: [[new RegExp(\" (\\\\d+) \", \"g\"), \" $1\".concat(nonBreakingSpace)]],\n  // LIKELY TO BE RENAMED AND EXTENDED (FOR MORE GENERAL DASH HANDLING),\n  // USE WITH CAUTION\n  ndash: [[new RegExp(\"-\", \"g\"), \"\".concat(nonBreakingDash)]],\n  header: [[new RegExp(\" (\".concat(preposiciones.largo, \") \"), \"gi\"), \" $1\".concat(nonBreakingSpace)]],\n  hyphens: [[new RegExp(\"(\".concat(sign, \")(\").concat(any).concat(any, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")], [new RegExp(\"(\".concat(vowel, \")(\").concat(vowel).concat(any, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")], [new RegExp(\"(\".concat(vowel).concat(consonant, \")(\").concat(consonant).concat(vowel, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")], [new RegExp(\"(\".concat(consonant).concat(vowel, \")(\").concat(consonant).concat(vowel, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")], [new RegExp(\"(\".concat(vowel).concat(consonant, \")(\").concat(consonant).concat(consonant).concat(vowel, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")], [new RegExp(\"(\".concat(vowel).concat(consonant).concat(consonant, \")(\").concat(consonant).concat(consonant).concat(vowel, \")\"), \"ig\"), \"$1\".concat(shy, \"$2\")]],\n  quotes: [[new RegExp('\\\\=\"([^\"]*)\"', \"gmi\"), \"='$1'\"], [new RegExp(\"\\\"(\".concat(any, \"|[0-9])\"), \"gmi\"), \"\".concat(openingQuote, \"$1\")], [new RegExp(\"\\\"\", \"gmi\"), closingQuote], [new RegExp(\"\\\\='([^']*)'\", \"gmi\"), '=\"$1\"'] // prevents HTML attributes like href=\"https://github.com\" from being broken\n  ]\n}; // typo :: String -> Object -> String\n\nfunction typo(s) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions;\n\n  if (s == null || typeof s !== \"string\") {\n    return s;\n  }\n\n  var P = Object.keys(patterns).reduce(function (acc, key) {\n    return options[key] ? acc.concat(patterns[key]) : acc;\n  }, patterns.common);\n  return P.reduce(function (acc, p) {\n    return acc.replace(p[0], p[1]);\n  }, s);\n}\n\nexport { typo as default };\n"],"names":["class","payload","title","subtitle","chapters","item","last_page","book","image","src","alt","text","line","index","wrapLine","threshold","word","page","name","props","type","Object","File","data","bookStore","computed","this","methods","reduce","acc","curr","length","__exports__","render","$emit","total_pages","components","Icon","Number","required","chapterDividerV2","lineLength","pageLines","nlSplit","split","lines","result","hyphens","tmp","replace","includes","push","words","join","initialLength","shift","trim","count","map","r","rr","replaceAll","chapterDivider","imgTag","pageFormatter","pages","offset","pagesFormatted","parseInt","hyphenate","hyphenated","shards","match","shard","useBookStore","state","chapter","covers","actions","setBook","setChapter","setChapters","setCovers","fetchBookById","bookId","$axios","get","then","response","fetchBookByUserId","userId","upsertQuestionnaire","post","alert","$router","getCovers","saveCover","coverId","cover_type_id","getChapters","saveTitle","message","getChapter","chapterId","saveChapter","generatePDF","responseType","href","URL","createObjectURL","link","document","createElement","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","closeBook","toggleBook","getTotalPages","addImage","formData","FormData","append","headers","url","any","vowel","consonant","sign","shy","nonBreakingHyphen","nonBreakingSpace","dash","nonBreakingDash","openingQuote","closingQuote","preposiciones","corto","largo","defaultOptions","digits","digitsR","header","ndash","quotes","patterns","common","RegExp","concat","typo","s","options","arguments","undefined","P","keys","key","p"],"sourceRoot":""}