"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[628],{2827:function(t,e,o){o.d(e,{A:function(){return m}});var n=o(641),r=o(33);const s={class:"buttons flex items-center"},i={class:"help relative"},a={href:"https://t.me/MEMORIAbook",target:"_blank"},l={href:"https://wa.me/79179008892",target:"_blank"};function u(t,e,o,u,c,h){const d=(0,n.g2)("Icon");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",i,[(0,n.Lk)("button",{id:"1",class:"mr-[0.6875rem] z-20",onClick:e[0]||(e[0]=e=>t.help=!t.help)},[(0,n.bF)(d,{type:"message"}),e[2]||(e[2]=(0,n.eW)("Помощь"))]),(0,n.Lk)("a",a,[(0,n.Lk)("button",{id:"2",class:(0,r.C4)([{"top-[3.4375rem]":t.help,"hidden top-0":!t.help},"absolute mr-[0.6875rem] z-20"])}," Telegram ",2)]),(0,n.Lk)("a",l,[(0,n.Lk)("button",{id:"3",class:(0,r.C4)([{"top-[6.875rem]":t.help,"hidden top-0":!t.help},"absolute mr-[0.6875rem] z-10"])}," WhatsApp ",2)])]),(0,n.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>h.logout&&h.logout(...t))},[(0,n.bF)(d,{type:"profile"}),e[3]||(e[3]=(0,n.eW)("Выйти"))])])}var c=o(5196),h=o(3468),d={name:"UserButtons",components:{Icon:c.A},data:()=>({store:(0,h.k)(),help:!1}),methods:{async logout(){await this.store.logout()}}},p=o(6262);const g=(0,p.A)(d,[["render",u]]);var m=g},6933:function(t,e,o){o.r(e),o.d(e,{default:function(){return A}});var n=o(641),r=o(5549);const s={class:"texture-bg absolute top-0 bottom-0 right-0 left-0 overflow-hidden px-[8.8125rem]"},i={class:"body w-full h-full pt-[4.75rem] overflow-scroll"},a={class:"header flex justify-between items-center"},l={class:"content"};function u(t,e,o,u,c,h){const d=(0,n.g2)("UserButtons"),p=(0,n.g2)("Loading"),g=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",i,[(0,n.Lk)("div",a,[e[0]||(e[0]=(0,n.Lk)("img",{src:r,alt:"logo.png"},null,-1)),(0,n.bF)(d)]),(0,n.Lk)("div",l,[h.loading?((0,n.uX)(),(0,n.Wv)(p,{key:0})):((0,n.uX)(),(0,n.Wv)(g,{key:1}))])])])}const c={class:"w-[25rem] h-[25rem] bg-[#E3B661] rounded-full blur-[15rem] opacity-30"};function h(t,e,o,r,s,i){return(0,n.uX)(),(0,n.CE)("div",c)}var d={name:"Circle"},p=o(6262);const g=(0,p.A)(d,[["render",h]]);var m=g,f=o(5196),k=o(2827),b=o(3468),v=o(6506),y=o(464),w=o(5111),L={name:"HomeView",components:{Loading:y.A,UserButtons:k.A,Icon:f.A,Circle:m},data:()=>({userStore:(0,b.k)(),bookStore:(0,v._)(),loadingStore:(0,w.r)()}),computed:{user(){return this.userStore.user},loading(){return this.loadingStore.loading}},watch:{"$route.path"(){"/"===this.$route.path&&("client"===this.user.type?this.$router.push("/client"):"admin"===this.user.type&&this.$router.push("/admin"))}},async mounted(){this.loadingStore.loadingOn(),await this.userStore.fetchUser().then((async()=>{await this.bookStore.fetchBookByUserId(this.user.id).then((()=>{"/"===this.$route.path&&("client"===this.user.type?this.$router.push("/client"):"admin"===this.user.type&&this.$router.push("/admin"))}))})).finally((()=>{this.loadingStore.loadingOff()}))}};const C=(0,p.A)(L,[["render",u]]);var A=C},5111:function(t,e,o){o.d(e,{r:function(){return r}});var n=o(5615);const r=(0,n.nY)("loading",{state:()=>({loading:!0}),actions:{loadingOn(){this.loading=!0},loadingOff(){this.loading=!1}}})}}]);
//# sourceMappingURL=628.9641168f.js.map