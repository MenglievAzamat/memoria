{"version":3,"file":"js/432.22dbd94b.js","mappings":"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","sources":["webpack://front/./src/components/GoldenText.vue","webpack://front/./src/components/GoldenText.vue?2052","webpack://front/./src/components/Loading.vue","webpack://front/./src/components/Loading.vue?1ccf","webpack://front/./src/components/UserButtons.vue","webpack://front/./src/components/UserButtons.vue?feec","webpack://front/./src/views/BookView.vue","webpack://front/./src/components/Book/Sidebar.vue","webpack://front/./src/components/Book/Progress.vue","webpack://front/./src/components/Book/Progress.vue?2083","webpack://front/./src/components/Book/MenuItem.vue","webpack://front/./src/components/Book/MenuItem.vue?d987","webpack://front/./src/components/Book/Sidebar.vue?a71b","webpack://front/./src/views/BookView.vue?9a14","webpack://front/./src/stores/book.js","webpack://front/./src/stores/loading.js"],"sourcesContent":["<template>\n    <div class=\"flex flex-col items-center justify-center\">\n        <img class=\"w-[20.3125rem] h-[1.1875rem] mb-[1.25rem]\" src=\"@/assets/img/gold.png\" alt=\"gold.png\">\n        <p class=\"text-gold mb-[1.4375rem]\">{{ text }}</p>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"GoldenText\",\n\n    props: {\n        text: {\n            type: String,\n            required: true\n        }\n    }\n}\n</script>\n\n<style scoped>\np {\n    font-family: 'Leotaro', sans-serif;\n    line-height: 1;\n}\n</style>","import { render } from \"./GoldenText.vue?vue&type=template&id=60bc2a74&scoped=true\"\nimport script from \"./GoldenText.vue?vue&type=script&lang=js\"\nexport * from \"./GoldenText.vue?vue&type=script&lang=js\"\n\nimport \"./GoldenText.vue?vue&type=style&index=0&id=60bc2a74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-60bc2a74\"]])\n\nexport default __exports__","<template>\n    <div class=\"texture-bg absolute top-0 bottom-0 right-0 left-0 z-10\n                flex justify-center items-center\">\n        <div>\n            <img class=\"w-[18.75rem] h-[4.75rem] animate-bounce\" src=\"@/assets/img/logo.png\" alt=\"\">\n            <p v-if=\"text\">{{ text }}</p>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n    props: {\n        text: {\n            required: false\n        }\n    }\n}\n</script>","import { render } from \"./Loading.vue?vue&type=template&id=262e83e6\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"buttons flex items-center\">\n        <div class=\"help relative\">\n            <button id=\"1\" class=\"mr-[0.6875rem] z-20\" @click=\"help = !help\"><Icon type=\"message\" />Помощь</button>\n            <a href=\"https://t.me/MEMORIAbook\" target=\"_blank\">\n                <button id=\"2\" :class=\"{'top-[3.4375rem]': help, 'hidden top-0': !help}\" class=\"absolute mr-[0.6875rem] z-20\">\n                    Telegram\n                </button>\n            </a>\n            <a href=\"https://wa.me/79179008892\" target=\"_blank\">\n                <button id=\"3\" :class=\"{'top-[6.875rem]': help, 'hidden top-0': !help}\" class=\"absolute mr-[0.6875rem] z-10\">\n                    WhatsApp\n                </button>\n            </a>\n        </div>\n        <button @click=\"logout\"><Icon type=\"profile\"/>Выйти</button>\n    </div>\n</template>\n\n<script>\nimport Icon from \"@/components/Icon.vue\";\nimport {useUserStore} from \"@/stores/user\";\n\nexport default {\n    name: \"UserButtons\",\n\n    components: {Icon},\n\n    data: () => ({\n        store: useUserStore(),\n        help: false\n    }),\n\n    methods: {\n        async logout() {\n            await this.store.logout();\n        }\n    }\n}\n</script>\n\n<style>\nbutton {\n    transition: .2s ease-in-out;\n}\n</style>","import { render } from \"./UserButtons.vue?vue&type=template&id=5452f364\"\nimport script from \"./UserButtons.vue?vue&type=script&lang=js\"\nexport * from \"./UserButtons.vue?vue&type=script&lang=js\"\n\nimport \"./UserButtons.vue?vue&type=style&index=0&id=5452f364&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"texture-bg absolute top-0 bottom-0 right-0 left-0 overflow-hidden\">\n        <Loading v-if=\"loading\"/>\n        <div class=\"body flex h-full\" v-else>\n            <div class=\"w-[22.9375rem]\">\n                <Sidebar/>\n            </div>\n            <div\n                class=\"body-content w-[calc(100%-22.9375rem)] pt-[5.3125rem] pl-[4.875rem] pr-[14.75rem] overflow-scroll\">\n                <div class=\"flex justify-between items-start\">\n                    <GoldenText :text=\"topText\"/>\n                    <UserButtons/>\n                </div>\n                <router-view/>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Sidebar from \"@/components/Book/Sidebar.vue\";\nimport Icon from \"@/components/Icon.vue\";\nimport UserButtons from \"@/components/UserButtons.vue\";\nimport GoldenText from \"@/components/GoldenText.vue\";\nimport {useBookStore} from \"@/stores/book\";\nimport {useLoadingStore} from \"@/stores/loading\";\nimport {useUserStore} from \"@/stores/user\";\nimport Loading from \"@/components/Loading.vue\";\n\nexport default {\n    name: \"BookView\",\n\n    components: {Loading, GoldenText, UserButtons, Icon, Sidebar},\n\n    data: () => ({\n        bookStore: useBookStore(),\n        loadingStore: useLoadingStore(),\n        userStore: useUserStore(),\n    }),\n\n    computed: {\n        topText() {\n            return this.$route.href === '/client/book/review' ? 'Просмотр книги' : 'Заполнение книги';\n        },\n\n        loading() {\n            return this.loadingStore.loading\n        }\n    },\n\n    async mounted() {\n        this.loadingStore.loadingOn()\n\n        await this.userStore.fetchUser().then(async () => {\n            let handler\n\n            if (this.userStore.user.type === 'admin') {\n                let bookId = JSON.parse(localStorage.getItem('admin')).bookId\n\n                handler = this.bookStore.fetchBookById(bookId)\n            } else {\n                handler = this.bookStore.fetchBookByUserId(this.userStore.user.id)\n            }\n\n            await handler.then(async () => {\n                await this.bookStore.getChapters(this.bookStore.book.id).then(() => {\n                    if (this.$route.path === '/client/book') {\n                        this.$router.push('/client/book/cover');\n                    }\n                })\n            })\n        }).finally(() => {\n            this.loadingStore.loadingOff()\n        })\n    }\n}\n</script>","<template>\n    <div class=\"overflow-scroll w-full h-full bg-[#131313]\">\n        <div class=\"logo flex flex-col justify-center items-center px-[2.25rem] py-[4.6875rem]\">\n            <img class=\"w-[15.5rem] h-[3.875rem] mb-[1.875rem]\" src=\"@/assets/img/logo.png\" alt=\"logo.png\">\n\n            <Progress :progress=\"percentage\"/>\n\n            <p class=\"text-[0.875rem] mt-2\">{{ `${current_page} из 100 страниц заполнено` }}</p>\n        </div>\n        <div class=\"menu h-[24.75rem] overflow-scroll mb-4\">\n            <MenuItem text=\"Обложка\" to=\"/client/book/cover\"/>\n            <MenuItem text=\"Титульный лист\" to=\"/client/book/title\"/>\n            <MenuItem text=\"Содержание:\" disabled/>\n            <MenuItem v-for=\"(chapter, index) in chapters\" :key=\"chapter.id\" :text=\"(index + 1) + '. ' + cropText(chapter.title)\" :to=\"`/client/book/chapters/${chapter.id}`\"/>\n        </div>\n        <div class=\"final w-full\">\n            <button class=\"w-full rounded-none mb-1\" @click=\"toggleBook\" v-if=\"isAdmin && store.book?.open\">Закрыть книгу</button>\n            <button class=\"w-full rounded-none mb-1\" @click=\"toggleBook\" v-else-if=\"isAdmin && !store.book?.open\">Открыть книгу</button>\n\n            <button class=\"w-full rounded-none mb-1\" @click=\"popupActive = true\" v-if=\"isAdmin\">Добавить главу</button>\n            <button class=\"w-full rounded-none mb-[3.5rem]\" @click=\"review\">Просмотр книги</button>\n\n            <div class=\"px-[2.25rem] mb-[0.625rem]\"><a class=\"text-[1.3125rem] text-[#FDD892] opacity-[64%]\" href=\"/\">Выйти на главную страницу</a></div>\n        </div>\n\n        <div class=\"absolute top-0 bottom-0 right-0 left-0 flex justify-center items-center\" v-if=\"popupActive\">\n            <div class=\"background absolute w-full h-full bg-black/80 z-20\" @click=\"popupActive = false\"></div>\n            <div class=\"body bg-black/50 z-30 rounded min-w-[50rem] p-8\">\n                <textarea v-model=\"question\" placeholder=\"Вопрос...\"/>\n                <textarea v-model=\"title\" placeholder=\"Оглавление...\"/>\n                <div class=\"flex justify-between\">\n                    <button @click=\"savePage\">Сохранить</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Progress from \"@/components/Book/Progress.vue\";\nimport MenuItem from \"@/components/Book/MenuItem.vue\";\nimport {useBookStore} from \"@/stores/book\";\nimport {useUserStore} from \"@/stores/user\";\nimport {useAdminStore} from \"@/stores/admin\";\n\nexport default {\n    name: \"Sidebar\",\n\n    components: {MenuItem, Progress},\n\n    data: () => ({\n        store: useBookStore(),\n        adminStore: useAdminStore(),\n        userStore: useUserStore(),\n\n        title: null,\n        question: null,\n\n        current_page: 1,\n        total_pages: 100,\n        chapters: [],\n\n        popupActive: false,\n    }),\n\n    computed: {\n        percentage() {\n            return this.total_pages ? Math.round(this.current_page * 100 / 100) : 0;\n        },\n\n        isAdmin() {\n            return this.userStore.user.type === 'admin'\n        }\n    },\n\n    methods: {\n        cropText(text) {\n            let length = 20\n            let result = text.slice(0, length)\n\n            return  result.length < length ? result : (result + '...');\n        },\n\n        async savePage() {\n            await this.adminStore.saveChapter(this.store.book.id, {\n                title: this.title,\n                question: this.question\n            })\n        },\n\n        review() {\n            this.$router.push('/client/book/review')\n        },\n\n        async toggleBook() {\n            await this.store.toggleBook(this.store.book.id).then(() => {\n                location.reload()\n            })\n        }\n    },\n\n    mounted() {\n        this.chapters = this.store.chapters.chapters\n\n        setTimeout(() => {\n            this.store.getTotalPages(this.store.book.id).then(response => {\n                this.current_page = response\n            })\n        }, 1000)\n\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape') {\n                this.popupActive = false\n            }\n        })\n    }\n}\n</script>","<template>\n    <div class=\"relative overflow-hidden w-full h-[1.125rem] rounded-full\">\n        <div class=\"absolute w-full h-full bg-white\"></div>\n        <div class=\"absolute w-full h-full bg-[#E3B661] rounded-full\" :style=\"`left:-${100 - progress}%`\"></div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"Progress\",\n\n    props: {\n        progress: {\n            type: Number,\n            required: true\n        }\n    }\n}\n</script>\n\n<style scoped>\n* {\n    transition: .5s ease-in-out;\n}\n</style>","import { render } from \"./Progress.vue?vue&type=template&id=0ce24d00&scoped=true\"\nimport script from \"./Progress.vue?vue&type=script&lang=js\"\nexport * from \"./Progress.vue?vue&type=script&lang=js\"\n\nimport \"./Progress.vue?vue&type=style&index=0&id=0ce24d00&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ce24d00\"]])\n\nexport default __exports__","<template>\n    <div\n        class=\"bg-[#1B1B1B] menu-item w-full pl-[4.0625rem] py-[1.25rem] text-white mb-1 text-[.875rem]\"\n        :class=\"{'hover:bg-[#2A2A2A] cursor-pointer':!disabled, 'font-bold': disabled, 'bg-[#2A2A2A]':active}\"\n        @click=\"goTo\"\n    >\n        {{ text }}\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"MenuItem\",\n\n    props: {\n        text: {\n            type: String,\n            required: true,\n        },\n\n        disabled: {\n            type: Boolean,\n            default: false,\n        },\n\n        to: {\n            type: String,\n            default: '#',\n        }\n    },\n\n    computed: {\n        active() {\n            return this.$route.href === this.to;\n        }\n    },\n\n    methods: {\n        goTo() {\n            if (!this.disabled) {\n                this.$router.push(this.to);\n            }\n        },\n    },\n}\n</script>","import { render } from \"./MenuItem.vue?vue&type=template&id=dc59d91e\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=js\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Sidebar.vue?vue&type=template&id=4eefb286\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BookView.vue?vue&type=template&id=9e1b1488\"\nimport script from \"./BookView.vue?vue&type=script&lang=js\"\nexport * from \"./BookView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {defineStore} from \"pinia\";\n\nexport const useBookStore = defineStore(\"book\", {\n  state: () => {\n    return {\n      book: null,\n      chapter: null,\n      chapters: [],\n      covers: [],\n    }\n  },\n  actions: {\n    setBook(book) {\n      this.book = book\n    },\n\n    setChapter(chapter) {\n      this.chapter = chapter\n    },\n\n    setChapters(chapters) {\n      this.chapters = chapters\n    },\n\n    setCovers(covers) {\n      this.covers = covers\n    },\n\n    async fetchBookById(bookId) {\n      await this.$axios.get(`/book/${bookId}`)\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async fetchBookByUserId(userId) {\n      await this.$axios.get(`/book/user/${userId}`)\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async upsertQuestionnaire(bookId, payload) {\n      await this.$axios.post(`/book/${bookId}/questionnaire`, payload)\n        .then(response => {\n          alert('Ваша анкета успешно сохранена')\n          let book = response.data.book\n          this.setBook(book)\n          this.$router.push('/')\n        })\n    },\n\n    async getCovers() {\n      await this.$axios.get('/book/covers')\n        .then(response => {\n          this.setCovers(response.data.covers)\n        })\n    },\n\n    async saveCover(bookId, coverId) {\n      await this.$axios.post(`/book/${bookId}/cover`, {cover_type_id: coverId})\n        .then(response => {\n          this.setBook(response.data.book)\n        })\n    },\n\n    async getChapters(bookId) {\n      await this.$axios.get(`/book/${bookId}/chapters`)\n        .then(response => {\n          this.setChapters(response.data)\n        })\n    },\n\n    async saveTitle(bookId, payload) {\n      await this.$axios.post(`/book/${bookId}/title`, payload)\n        .then(response => {\n          alert(response.data.message)\n          this.setBook(response.data.book)\n        })\n    },\n\n    async getChapter(chapterId) {\n      return await this.$axios.get(`/chapter/${chapterId}`).then(response => {\n        this.setChapter(response.data.chapter)\n        return response.data\n      })\n    },\n\n    async saveChapter(chapterId, text) {\n      await this.$axios.post(`/chapter/${chapterId}`, {text: text}).then(response => {\n        alert(response.data.message)\n      })\n    },\n\n    async generatePDF(bookId) {\n      await this.$axios.get(`/book/${bookId}/pdf`, {\n        responseType: 'blob'\n      }).then(response => {\n        // create file link in browser's memory\n        const href = URL.createObjectURL(response.data);\n\n        // create \"a\" HTML element with href to file & click\n        const link = document.createElement('a');\n        link.href = href;\n        link.setAttribute('download', 'file.pdf'); //or any other extension\n        document.body.appendChild(link);\n        link.click();\n\n        // clean up \"a\" element & remove ObjectURL\n        document.body.removeChild(link);\n        URL.revokeObjectURL(href);\n      })\n    },\n\n    async closeBook(bookId) {\n      return await this.$axios.post(`/book/${bookId}/close`).then(response => {\n        return response.data.message\n      })\n    },\n\n    async toggleBook(bookId) {\n      await this.$axios.post(`/book/${bookId}/toggle`).then(response => {\n        alert(response.data.message)\n      })\n    },\n\n    async getTotalPages(bookId) {\n      return await this.$axios.get(`/book/${bookId}/total-pages`).then(response => {\n        return response.data.total_pages\n      })\n    },\n\n    async addImage(chapterId, image) {\n      let formData = new FormData()\n      formData.append('image', image)\n\n      return await this.$axios.post(`/chapter/${chapterId}/image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        return response.data.url\n      })\n    }\n  }\n})","import { defineStore } from \"pinia\";\n\nexport const useLoadingStore = defineStore(\"loading\", {\n  state: () => {\n    return {\n      loading: true\n    }\n  },\n  actions: {\n    loadingOn() {\n      this.loading = true\n    },\n    loadingOff() {\n      this.loading = false\n    },\n  }\n})"],"names":["class","src","alt","text","name","props","type","String","required","__exports__","render","href","target","id","help","logout","components","Icon","data","store","methods","this","topText","progress","percentage","current_page","to","disabled","chapters","chapter","index","key","cropText","title","isAdmin","book","open","toggleBook","popupActive","review","question","placeholder","savePage","style","Number","active","goTo","Boolean","default","computed","$route","$router","push","MenuItem","Progress","adminStore","userStore","total_pages","Math","round","user","length","result","slice","saveChapter","then","location","reload","mounted","setTimeout","getTotalPages","response","document","addEventListener","e","Loading","GoldenText","UserButtons","Sidebar","bookStore","loadingStore","loading","loadingOn","fetchUser","async","handler","bookId","JSON","parse","localStorage","getItem","fetchBookById","fetchBookByUserId","getChapters","path","finally","loadingOff","useBookStore","state","covers","actions","setBook","setChapter","setChapters","setCovers","$axios","get","userId","upsertQuestionnaire","payload","post","alert","getCovers","saveCover","coverId","cover_type_id","saveTitle","message","getChapter","chapterId","generatePDF","responseType","URL","createObjectURL","link","createElement","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","closeBook","addImage","image","formData","FormData","append","headers","url","useLoadingStore"],"sourceRoot":""}