"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[820],{1363:function(e,t,a){a.d(t,{A:function(){return c}});var o=a(641),s=a(33),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUUAAAATCAYAAAAH1B8DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvwSURBVHgB7VxbbxvHFT5ndkVRdRJLSJNCMFxRv0BS0hb1QyqyQBrbQCvrF5AyGsBPkZQX94LCVJuXFEhsFUURtGnE/AJbKBIFaZGlirZB0aKW/kDFRE6FJA+icnF12d2Tc2ZmL2R0oSwlQKz9BHGXuzNnLnvON2fmzBIhQ4YvAB96U0V0oKzAKYJSBQAEVM6SQlwKITfTd67aOEjG6p+vFB3AMVR4CQEGEFkGqA1A9JSC+a+P/uZVyJDhmIGQIcMxYs27UnCoa44ZsKhJjNlL1EzJERXoa3xkcqwF3Z9O943caLbLWLk51dv9wN1rQDjFiSUtAeiMOq9A5PBnIwAs9ZduNCBDhmNCRooZjg0feE8Ph2HXW0xjfcrBdUBnFkJY9PPQkPuu7xSU01VxEEeZ1Ab4/jth7uORNDEKIeZ6PvXYOxzirxtMgjf4uAi+kQGuW3BcGCJQU0yRBZbTBILxR0o36pAhwzEgI8UMx4K1hSsFcMiTqTIBzm45uepg6fNeoGD97asFJOc6O31jTKCLD333uVJ07703nmYvk8oAann77tdKg+O7yxC87z1TZS/yGqtx03VUse+JF5chQ4YjIiPFDMcCITP27spI6pf9T71U7SRP8+2f3WZPb5in1sUHv/OrxdWFCk+5XY+JbmXr7qnH9iPECGveVMVV8ApPtRcfKV4vQYYMR4SCDBmOiNU/VYoEYZmnse90SogCgmCaiD/DcFq+IzhlfTWky50QooDXE2ss4lVeYixKcAcyZDgiMlLMcGSQgxUmN3YSw6nD5Os793ydD0ssYUjLIRrmkErj7IWX64eRExDMEJMpR2SuQYYMR0RGihmOA6NMaI0zT748D4cEUbiMQAP6C8JwAOGh1wUl+sxkWufT4ro31QsZMhwBLmQ4kZApLzpqjImol0La8AOqD/6odgsOiZWblV5emObgCh06rwazaRjihj1v8nriOtwDQoJ5xVPoHa4LaO+zc6zfrvY6QShBnxGF6jRXaSMEqj/0req9tSnDVxoZKZ4wrCxUCm4IN4EDHDLlRNAf6Lo4+e7rEw1Eqp29UJvpWGAeesHsItyTiGQTdk65kxyIaQawM9NfeqkR36SwABGJsQxikk7nlah24NCUA3gauqA1byuaRgR07CkKGbrb/iRsB5OE2Gc6I9RSHHQm7/7nuZUt9L/fN3LwRvMM9w+UjPSrr094dxYu0+rC5ZV3X69cggz3JdaEEAE9Q4gGZHhxnaPANSSaZ07ou7NQmRO96FwySwkV7l7mlYKL8BaHT8bYJyw7kPNW7BSXp7qFkKgIimpWTp3rMJoum9cpPQfpGSbwCvh4WzaH71YOF95gWdAp1j32Drd2rvNSaAFRzXP0+pYsAcTlmr/BbnI8IU/IcF+CPnhzmP735m1ae5No7S9ztOL1uk43yubYolYnggJPH26uLvy45ILfMNny8KVCituEPYr9YuuSt+JN8d1wvOjZ+9YhmrVf0p4DPJodwiqa6aXei8X/S/zcp85erC3CPWLwQq1xZ2GiuScfuWGZQv1aiuZOUOHAKZTX/mApcOA6k2Cj79yv9et6/ibMunmodPW4EjCZZj0sAtIAE5cmXCapXhXQGJ/OtheDFJ6WN2bcDqfOfaWqeJYT7dc//le1qBTMke0nHjMKudCRAFJ1P3lM5AXRn81N+4zy96ir+fjj4KRxsk51taetnD2/dgApcwvay87v8y2+1GLf+X2TH3BjlzSdlJlCEMqsqcCKyY+cB96eEHgQB1EyNhDWWKU/WQPJC1ARatPxUUf2dBrrDJg3rsh4GfYq2kTyApa9h2gnVhFQz08gJYZFG2HaYOSUS5V+lkK1fEw7IIF9vSvJrw0mlQRNlQzI1tXe0Z/K1FPyRfU2FQYMfSMzR1KN0OZJmoC6kaYBn6+HabheJGOJbFgUGbO5vpO02ZYf98N2dJIUZvrGFqmvmT73436NOrQF++475T4d0qE1k7uxs0WlwfFaR1tfVngN0lV4iUsYBTNF5fU/WOF2z3NDlzn2PLRrRqK6LpHIdh9tBLjZ/NCbvMmXhnbCoBQllbqwN1vyKfDeW7jc3M77s2qrizuTbF9IR+OugZgQocR3l3zA4Q//+uwYq/glo6f6VcBlF9Stvid0tHtfPPjtqqQZ/OTfMx4f9auKXHIZDiBFtxv+G7ABdeW1lnIePzEniF9LtM9fxUajr8bpeOzQlpjouXktEq3PgkbHrF6zvpKxtzCRa0VhKn1UtuggRq9MbkOi13wM+LoxQ/s6JYDRXl7ziAY8Ja9YRvXWdc5jqp5iuSwWY7vneqWMJ2Uz+eiSEJEv74Ka69tKigMd/2V5sU2hXeiBVFt0HrTGqCAe5nHHFmnlyJnPxihMF6Ap0+hRVHfhPUqIBMeiF0l1B0bdqQ2fzPcUCSS+gOgoRd1jnhFFtbbnUQckmaKOMF2cEKIujCAmC4ryRfdSypESZ2g8IRZIkXaSKa5fQpS2nRjrazSFpOQBg61FSNaQrSIay44aGf1HfRG1zFBjTG5xm6KyUn1HLRW29YDoPB54zIXk3PZPa9ceDCGuqDIBTXRCiEKGqwsTnuvgTZtv2t+ikbMX50a2gZ6V4UO8KQWquNuUu/8Hf1gk2TITUkNPSDmYgjwl9cNg+ZOQHmt/b7mfPU8XqMSnhdyWc5uPDYgNNaz2P/lSfY+qjmlHVOGQH4SzD4++OPjw914YDIBmmFN7uZbe+t+vrnz09k/L0AG4njP2QUhXFw7O0a7vlNJqmyIiP61HRqm07VgiiXQFU9oU2RbFtpU8+VjvrIy4GnYAQYidl1S7LMVgZBax2WLshFhFJrLMBLpfieLGUJu3o+uFFHtEkWdiagYtfovhEZGnjdHwiqafRPvJeBQR59gmt3CQuYG7KT8m3RV7ECknBhPZGBmofiimRQQu35nnVOWYQHTTw3Feem9GFbKd2VafpIMSuODy/MX3QR9N9ZCM+0eQUJzhGddhzydw0HUCfYSURDZCvkaYXCEbFiIpRV/1eUx2pXNTeTX0NVOmKc+RLcFWkgMQ62oi03wNk5ZE5aca7ga8qAC7RacSOdSWwLRTsawAzdGsvRn5Yap9NpsjI5lC39/hPuwCDOyNuB+Tro+VlKBD6Chvrx0DB/ZLKQEZrknVQVXmtcBbPNCO9F+sNdJpZOrMh5r8c5Bmxc3BJJ/PtMs689Tv5dqMrC9KIKP/wp7BEo1+I3dC1kDZ8ytIg/3NB5b22tD9vvdMWboghK3xR0dbZT/yxAt1PtTXvatVyMG1gKi2/o+r4vFO9517vrFfPZKH31FEvKSnWhAPcImO6RNHf5Pnbh5mlFJswW19hG6kDw5Ai5mRlkNp/YJocNbWx/qJRl3ECUNKdCXOZNKGkc6xjpn70e3QfjdliTA39lvkhpsSQxBX0DWWGQlyRY4WwRUJZLbp2nbZMTmUsh3yfeIgH9uFz26cJg/S6bjtPCuK7D+w5Ya2ztLOqP584otfTraeUo6igOUZLhJOkuuBZgCXIoL2+U/z1Zwd9CIOmUcZ3bvy6jrnYuWHDabw6tnzf/zcmk2Grz4koMaHovV+3lHKmTpzvnVvoegDr+tNyi/UsNI3mZQnzv6wVj9I9p03Lg+xN3jLN1PyBnxJkMCLoi4PMRh/tPS7A9cT1//2kwo6ssmbBniMmQ2xe7b9Z8zWeV2xi9cVuQ8KdrpWO/X4LyYgw30HCbSwA8XrioqdBFyE/3883unEK8N9ANmbCA562DIt5+mpwiUmv6bZDsPRYL1mSHV/C8Y7XXMU6O0+BHM8Nbpx5vzcoTdyHxZr8nuLjnuNfYyZ/tJv653mMz9IwY4Ayu80IkfeYZmdgYasQfGsapiPw3opy84eHYcGe7JtOScGGSmeMKwuVK6BRKGZGENqj9QYD5I9xOlvXjz8Ru4I775WYW8MTudA1b9x/pVj/+UavS1nhz1ejmJvurkbe/0az0GQ9UUOjFftT5DpBW/rGWISGKHqqcerM5DhxCAjxROIO69Vhtkr5CkkFtn25Q0OIZVlP4CZwQ6myvcbPvrnz8shsdeoVBG1l4xN9nZvyQ9N2Gh0hhOEzwCU13lMZfOJhwAAAABJRU5ErkJggg==";const n={class:"flex flex-col items-center justify-center"},i={class:"text-gold mb-[1.4375rem]"};function l(e,t,a,l,h,u){return(0,o.uX)(),(0,o.CE)("div",n,[t[0]||(t[0]=(0,o.Lk)("img",{class:"w-[20.3125rem] h-[1.1875rem] mb-[1.25rem]",src:r,alt:"gold.png"},null,-1)),(0,o.Lk)("p",i,(0,s.v_)(a.text),1)])}var h={name:"GoldenText",props:{text:{type:String,required:!0}}},u=a(6262);const m=(0,u.A)(h,[["render",l],["__scopeId","data-v-60bc2a74"]]);var c=m},8820:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var o=a(641),s=a(3751),r=a(33);const n={class:"mt-[4.1875rem]"},i={class:"intro mb-[3.25rem]"},l={class:"form"},h={class:"variants flex flex-wrap justify-between items-center"},u={class:"variant flex w-1/4 mb-[.6875rem]"},m=["value"],c={class:"mb-[2.875rem] text-right"};function f(e,t,a,f,d,p){const k=(0,o.g2)("GoldenText");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",i,[(0,o.bF)(k,{text:"Моя анкета. Вводные данные"})]),(0,o.Lk)("div",l,[t[5]||(t[5]=(0,o.Lk)("h2",null,"Данные",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"mb-[.75rem]"},"Напишите пожалуйста ваши ФИО, возраст, место рождения, место жительства, профессия, род деятельности на данный момент:",-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.self_info=t),placeholder:"Введите текст..."},null,512),[[s.Jo,e.form.self_info]]),t[7]||(t[7]=(0,o.Lk)("div",{class:"w-full h-[2px] bg-[#E3B661] opacity-20 rounded mt-[2.9375rem] mb-[2.1875rem]"},null,-1)),t[8]||(t[8]=(0,o.Lk)("h2",null,"Для кого мы пишем эту книгу?",-1)),(0,o.Lk)("div",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.variants,(a=>((0,o.uX)(),(0,o.CE)("div",u,[(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{name:"variant",type:"radio",class:"mr-2",key:a.value,value:a.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.for_who=t)},null,8,m)),[[s.XL,e.form.for_who]]),(0,o.Lk)("p",null,(0,r.v_)(a.text),1)])))),256)),"other"===e.form.for_who?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.other=t),placeholder:"Другое"},null,512)),[[s.Jo,e.form.other]]):(0,o.Q3)("",!0)]),t[9]||(t[9]=(0,o.Lk)("div",{class:"w-full h-[2px] bg-[#E3B661] opacity-20 rounded mt-[2.9375rem] mb-[2.1875rem]"},null,-1)),t[10]||(t[10]=(0,o.Lk)("h2",null,"О чем будет история",-1)),t[11]||(t[11]=(0,o.Lk)("p",{class:"mb-2"},"Поделитесь ниже, о чем будет история (истории), которую вы бы хотели сохранить в своей книге: какие факты из жизни хотели бы сохранить, значимые события, имена, воспоминания. Опишите своими словами в 2-3 предложениях или тезисно, но постарайтесь вспомнить минимум 3 важных события, истории или периоды вашей жизни.",-1)),t[12]||(t[12]=(0,o.Lk)("p",{class:"text-[#FFE8BD] opacity-30 mb-5"},[(0,o.eW)("Возможно, вам помогут «шпаргалки» ниже:"),(0,o.Lk)("br"),(0,o.eW)(" Я хочу сохранить свои воспоминания: о детстве; о родителях; о друзьях; о творчестве; о детях; о взрослении; о свадьбе; о беременности; о достижениях; о трудных или переломных моментах; об отношениях в семье; о взаимопонимании; про семейные ценности; о предках (про бабушек и дедушек); о студенчестве и тд.")],-1)),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.summary=t),placeholder:"Введите текст..."},null,512),[[s.Jo,e.form.summary]]),(0,o.Lk)("p",c,(0,r.v_)(e.form.summary?.length),1),(0,o.Lk)("button",{class:"mb-[12.625rem]",onClick:t[4]||(t[4]=(...e)=>p.submitQuestionnaire&&p.submitQuestionnaire(...e))},"Отправить данные")])])}var d=a(1363),p=a(6506),k=a(1657),v={name:"QuestionnaireView",components:{GoldenText:d.A},data:()=>({store:(0,p._)(),form:{book_id:null,self_info:null,for_who:null,summary:null,other:null},variants:k.A}),methods:{submitQuestionnaire(){this.form.summary.length<400?alert('Поле "О чем будет история" должно содержать не менее 400 символов (включая пробелы)'):(this.form.other&&(this.form.for_who=this.form.other),this.store.upsertQuestionnaire(this.store.book.id,this.form))}},watch:{"form.for_who"(){"other"!==this.form.for_who&&(this.form.other=null)}},mounted(){let e=this.store.book?.questionnaire;e&&(this.form={self_info:e.self_info,for_who:e.for_who,summary:e.summary},["family","all","future","present","me","legacy","reflection","other"].includes(e.for_who)||(this.form.for_who="other",this.form.other=e.for_who))}},b=a(6262);const A=(0,b.A)(v,[["render",f],["__scopeId","data-v-19ea9d5d"]]);var g=A},1657:function(e,t){t.A=[{text:"Для семьи",value:"family"},{text:"Для всеобщего пользования",value:"all"},{text:"Послание себе на будущее",value:"future"},{text:"В подарок",value:"present"},{text:"Для себя",value:"me"},{text:"Для потомков",value:"legacy"},{text:"Для рефлексии",value:"reflection"},{text:"Свой вариант",value:"other"}]},6506:function(e,t,a){a.d(t,{_:function(){return s}});var o=a(5615);const s=(0,o.nY)("book",{state:()=>({book:null,chapter:null,page:null,chapters:[],covers:[]}),actions:{setBook(e){this.book=e},setChapter(e){this.chapter=e},setPage(e){this.page=e},setChapters(e){this.chapters=e},setCovers(e){this.covers=e},async fetchBookById(e){await this.$axios.get(`/book/${e}`).then((e=>{this.setBook(e.data.book)}))},async fetchBookByUserId(e){await this.$axios.get(`/book/user/${e}`).then((e=>{this.setBook(e.data.book)}))},async upsertQuestionnaire(e,t){await this.$axios.post(`/book/${e}/questionnaire`,t).then((e=>{alert("Ваша анкета успешно сохранена");let t=e.data.book;this.setBook(t),this.$router.push("/")}))},async getCovers(){await this.$axios.get("/book/covers").then((e=>{this.setCovers(e.data.covers)}))},async saveCover(e,t){await this.$axios.post(`/book/${e}/cover`,{cover_type_id:t}).then((e=>{this.setBook(e.data.book)}))},async getChapters(e){await this.$axios.get(`/book/${e}/chapters`).then((e=>{this.setChapters(e.data)}))},async saveTitle(e,t){await this.$axios.post(`/book/${e}/title`,t).then((e=>{alert(e.data.message),this.setBook(e.data.book)}))},async getChapter(e){await this.$axios.get(`/chapter/${e}`).then((e=>{this.setChapter(e.data.chapter)}))},async savePage(e,t){await this.$axios.post(`/page/${e}`,t).then((async e=>{alert(e.data.message),this.setPage(e.data.page)}))},async addPage(e){await this.$axios.post(`/chapter/${e}/page`).then((e=>{alert(e.data.message),this.setPage(e.data.page)}))},async generatePDF(e){await this.$axios.get(`/book/${e}/pdf`,{responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data),a=document.createElement("a");a.href=t,a.setAttribute("download","file.pdf"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}))},async closeBook(e){return await this.$axios.post(`/book/${e}/close`).then((e=>e.data.message))},async toggleBook(e){await this.$axios.post(`/book/${e}/toggle`).then((e=>{alert(e.data.message)}))}}})}}]);
//# sourceMappingURL=820.0944eca6.js.map